{"ast":null,"code":"import _toConsumableArray from\"/Users/zhangmengyue/Desktop/Employee-Directory/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/Users/zhangmengyue/Desktop/Employee-Directory/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/zhangmengyue/Desktop/Employee-Directory/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/zhangmengyue/Desktop/Employee-Directory/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/zhangmengyue/Desktop/Employee-Directory/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import API from\"../../utils/API\";import Container from\"../Container\";import SearchBar from\"../SearchBar\";import SearchResults from\"../SearchResults\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Search=/*#__PURE__*/function(_Component){_inherits(Search,_Component);var _super=_createSuper(Search);function Search(){var _this;_classCallCheck(this,Search);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={search:\"\",results:[],filtered_results:[],sortDirection:\"ASC\"};_this.handleInputChange=function(event){var input=event.target.value.toLowerCase();var filtered_results=_this.state.results.filter(function(result){return result.name.first.toLowerCase().includes(input)||result.name.last.toLowerCase().includes(input)||result.email.toLowerCase().includes(input)||result.phone.includes(input)||result.dob.date.slice(0,10).includes(input);});_this.setState({search:input,filtered_results:filtered_results});if(input==\"\"){_this.setState({filtered_results:_this.state.results});}};return _this;}_createClass(Search,[{key:\"componentDidMount\",value:// When the component mounts, get a list of all available base breeds and update this.state.breeds\nfunction componentDidMount(){var _this2=this;API.getRandomEmployees().then(function(res){_this2.setState({results:res.data.results,filtered_results:res.data.results});console.log(res.data.results);}).catch(function(err){return console.log(err);});}},{key:\"sortHelper\",value:function sortHelper(a,b){if(this.state.sortDirection==\"ASC\"){if(a.name.first>b.name.first){return 1;}else if(a.name.first===b.name.first){return 0;}else{return-1;}}else if(this.state.sortDirection==\"DSC\"){if(a.name.first>b.name.first){return-1;}else if(a.name.first===b.name.first){return 0;}else{return 1;}}}},{key:\"sortResults\",value:function sortResults(){var nextSortDirection;var filtered_results_copy=_toConsumableArray(this.state.filtered_results);filtered_results_copy.sort(this.sortHelper.bind(this));if(this.state.sortDirection==\"ASC\"){nextSortDirection=\"DSC\";}else if(this.state.sortDirection==\"DSC\"){nextSortDirection=\"ASC\";}this.setState({filtered_results:filtered_results_copy,sortDirection:nextSortDirection});}},{key:\"sortResults2\",value:function sortResults2(){var nextSortDirection;var filtered_results_copy=_toConsumableArray(this.state.filtered_results);filtered_results_copy.sort(this.sortHelper.bind(this));if(this.state.sortDirection==\"ASC\"){nextSortDirection=\"DSC\";}else if(this.state.sortDirection==\"DSC\"){nextSortDirection=\"ASC\";}this.setState({filtered_results:filtered_results_copy,sortDirection:nextSortDirection});}},{key:\"sortbyPhone\",value:function sortbyPhone(){var nextSortDirection;var filtered_results_phone=_toConsumableArray(this.state.filtered_results);filtered_results_phone.sort(this.sortHelper.bind(this));if(this.state.sortDirection==\"ASC\"){nextSortDirection=\"DSC\";}else if(this.state.sortDirection==\"DSC\"){nextSortDirection=\"ASC\";}this.setState({filtered_results:filtered_results_phone,sortDirection:nextSortDirection});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Container,{style:{minHeight:\"80%\"},children:[/*#__PURE__*/_jsx(SearchBar,{handleInputChange:this.handleInputChange}),/*#__PURE__*/_jsx(SearchResults,{sortResults:this.sortResults.bind(this),results:this.state.filtered_results})]})});}}]);return Search;}(Component);export default Search;","map":{"version":3,"sources":["/Users/zhangmengyue/Desktop/Employee-Directory/src/components/Search/index.js"],"names":["React","Component","API","Container","SearchBar","SearchResults","Search","state","search","results","filtered_results","sortDirection","handleInputChange","event","input","target","value","toLowerCase","filter","result","name","first","includes","last","email","phone","dob","date","slice","setState","getRandomEmployees","then","res","data","console","log","catch","err","a","b","nextSortDirection","filtered_results_copy","sort","sortHelper","bind","filtered_results_phone","minHeight","sortResults"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport API from \"../../utils/API\";\nimport Container from \"../Container\";\nimport SearchBar from \"../SearchBar\";\nimport SearchResults from \"../SearchResults\";\n\nclass Search extends Component {\n  state = {\n    search: \"\",\n    results: [],\n    filtered_results: [],\n    sortDirection:\"ASC\"\n  };\n\n  // When the component mounts, get a list of all available base breeds and update this.state.breeds\n  componentDidMount() {\n    API.getRandomEmployees()\n      .then(res => {\n        this.setState({ results: res.data.results, filtered_results: res.data.results})\n        console.log(res.data.results)})\n      .catch(err => console.log(err));\n  }\n\n  handleInputChange = event => {\n    const input = event.target.value.toLowerCase();\n    var filtered_results = this.state.results.filter(result => result.name.first.toLowerCase().includes(input) \n    || result.name.last.toLowerCase().includes(input) \n    || result.email.toLowerCase().includes(input) \n    || result.phone.includes(input) \n    || result.dob.date.slice(0,10).includes(input))\n    this.setState({ search: input,\n    filtered_results: filtered_results });\n    if (input == \"\") {\n      this.setState({filtered_results: this.state.results})\n    }\n  };\n  sortHelper(a,b){\n    if (this.state.sortDirection==\"ASC\"){\n\n    if (a.name.first > b.name.first) {\n      return 1;\n    } else if (a.name.first === b.name.first){\n      return 0;\n    } else {\n      return -1;\n    }\n  } else if (this.state.sortDirection==\"DSC\"){\n    if (a.name.first > b.name.first) {\n      return -1;\n    } else if (a.name.first === b.name.first){\n      return 0;\n    } else {\n      return 1;\n    }\n  } \n}\n  sortResults(){\n    var nextSortDirection\n    var filtered_results_copy = [...this.state.filtered_results];\n    filtered_results_copy.sort(this.sortHelper.bind(this))\n    if (this.state.sortDirection == \"ASC\"){\n      nextSortDirection = \"DSC\"\n    } else if (this.state.sortDirection == \"DSC\"){\n      nextSortDirection = \"ASC\"\n    } \n    this.setState({filtered_results: filtered_results_copy, sortDirection: nextSortDirection})\n  }\n\n  sortResults2(){\n    var nextSortDirection\n    var filtered_results_copy = [...this.state.filtered_results];\n    filtered_results_copy.sort(this.sortHelper.bind(this))\n    if (this.state.sortDirection == \"ASC\"){\n      nextSortDirection = \"DSC\"\n    } else if (this.state.sortDirection == \"DSC\"){\n      nextSortDirection = \"ASC\"\n    } \n    this.setState({filtered_results: filtered_results_copy, sortDirection: nextSortDirection})\n  }\n  sortbyPhone(){\n    var nextSortDirection\n    var filtered_results_phone = [...this.state.filtered_results];\n    filtered_results_phone.sort(this.sortHelper.bind(this))\n    if (this.state.sortDirection == \"ASC\"){\n      nextSortDirection = \"DSC\"\n    } else if (this.state.sortDirection == \"DSC\"){\n      nextSortDirection = \"ASC\"\n    } \n    this.setState({filtered_results: filtered_results_phone, sortDirection: nextSortDirection})\n  }\n\n\n  render() {\n    return (\n      <div>\n        <Container style={{ minHeight: \"80%\" }}>\n          <SearchBar\n            handleInputChange={this.handleInputChange}\n          />\n          <SearchResults \n          sortResults = {this.sortResults.bind(this)}\n          results={this.state.filtered_results} />\n        </Container>\n      </div>\n    );\n  }\n}\n\nexport default Search;\n"]},"metadata":{},"sourceType":"module"}